{"ast":null,"code":"var _jsxFileName = \"/Users/adhe/fabric/client/src/use-auth.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext, createContext } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiURL = \"http://localhost:4000\";\nconst authContext = /*#__PURE__*/createContext();\nexport function ProvideAuth({\n  children\n}) {\n  _s();\n\n  const auth = useProvideAuth();\n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: auth,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProvideAuth, \"XNU4Jn8u4aVzJknlKOHFJq03xMo=\", false, function () {\n  return [useProvideAuth];\n});\n\n_c = ProvideAuth;\nexport const useAuth = () => {\n  _s2();\n\n  return useContext(authContext);\n};\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nfunction useProvideAuth() {\n  _s3();\n\n  const token = localStorage.getItem('token');\n  const [user, setUser] = useState({\n    email: '',\n    fullname: ''\n  });\n  const [nodes, setNodes] = useState([]);\n\n  const login = async (email, password) => {\n    try {\n      const res = await axios.post(`${apiURL}/signin`, {\n        email: email,\n        password: password\n      });\n      localStorage.setItem('token', res.headers.authorization);\n      setUser(email);\n    } catch (error) {\n      // handle error\n      console.error(error);\n    }\n  };\n\n  return {\n    login // logout,\n\n  };\n}\n\n_s3(useProvideAuth, \"8ETbWBogq7XVjNJQ/gWf3xwL1ys=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ProvideAuth\");","map":{"version":3,"sources":["/Users/adhe/fabric/client/src/use-auth.js"],"names":["React","useState","useEffect","useContext","createContext","axios","apiURL","authContext","ProvideAuth","children","auth","useProvideAuth","useAuth","token","localStorage","getItem","user","setUser","email","fullname","nodes","setNodes","login","password","res","post","setItem","headers","authorization","error","console"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,EAAiDC,aAAjD,QAAsE,OAAtE;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,MAAM,GAAG,uBAAf;AAEA,MAAMC,WAAW,gBAAGH,aAAa,EAAjC;AAEA,OAAO,SAASI,WAAT,CAAqB;AAAEC,EAAAA;AAAF,CAArB,EAAmC;AAAA;;AACzC,QAAMC,IAAI,GAAGC,cAAc,EAA3B;AACA,sBAAO,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAED,IAA7B;AAAA,cAAoCD;AAApC;AAAA;AAAA;AAAA;AAAA,UAAP;AACA;;GAHeD,W;UACFG,c;;;KADEH,W;AAMhB,OAAO,MAAMI,OAAO,GAAG,MAAM;AAAA;;AAC3B,SAAOT,UAAU,CAACI,WAAD,CAAjB;AACD,CAFM;;IAAMK,O;;AAKb,SAASD,cAAT,GAA0B;AAAA;;AACxB,QAAME,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBhB,QAAQ,CAAC;AAACiB,IAAAA,KAAK,EAAE,EAAR;AAAYC,IAAAA,QAAQ,EAAE;AAAtB,GAAD,CAAhC;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMqB,KAAK,GAAG,OAAOJ,KAAP,EAAcK,QAAd,KAA2B;AACvC,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMnB,KAAK,CAACoB,IAAN,CAAY,GAAEnB,MAAO,SAArB,EAA+B;AAC/CY,QAAAA,KAAK,EAAEA,KADwC;AAE/CK,QAAAA,QAAQ,EAAEA;AAFqC,OAA/B,CAAlB;AAKAT,MAAAA,YAAY,CAACY,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACG,OAAJ,CAAYC,aAA1C;AACAX,MAAAA,OAAO,CAACC,KAAD,CAAP;AACD,KARD,CAQE,OAAOW,KAAP,EAAc;AACd;AACAC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,GAbD;;AAgBA,SAAO;AACLP,IAAAA,KADK,CAEL;;AAFK,GAAP;AAID;;IAzBQX,c","sourcesContent":["import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport axios from 'axios'\n\nconst apiURL = \"http://localhost:4000\"\n\nconst authContext = createContext();\n\nexport function ProvideAuth({ children }) {\n\tconst auth = useProvideAuth();\n\treturn <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\n\nexport const useAuth = () => { \n  return useContext(authContext); \n};\n\n\nfunction useProvideAuth() {\n  const token = localStorage.getItem('token')\n  const [user, setUser] = useState({email: '', fullname: ''});\n  const [nodes, setNodes] = useState([]);\n\n  const login = async (email, password) => {\n    try { \n      const res = await axios.post(`${apiURL}/signin`, {\n        email: email,\n        password: password\n      })\n\n      localStorage.setItem('token', res.headers.authorization)\n      setUser(email)\n    } catch (error) {\n      // handle error\n      console.error(error)\n    }\n  };\n\n\n  return { \n    login,\n    // logout,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}