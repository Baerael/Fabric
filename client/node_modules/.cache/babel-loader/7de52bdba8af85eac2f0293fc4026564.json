{"ast":null,"code":"var _jsxFileName = \"/Users/adhe/fabric/client/src/store/use-auth.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext, createContext } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080/api\";\nconst authContext = /*#__PURE__*/createContext();\nexport function ProvideAuth({\n  children\n}) {\n  _s();\n\n  const auth = useProvideAuth();\n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: auth,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProvideAuth, \"XNU4Jn8u4aVzJknlKOHFJq03xMo=\", false, function () {\n  return [useProvideAuth];\n});\n\n_c = ProvideAuth;\nexport const useAuth = () => {\n  _s2();\n\n  return useContext(authContext);\n};\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nfunction useProvideAuth() {\n  _s3();\n\n  const [isError, setIsError] = useState(false);\n  const [message, setMessage] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [user, setUser] = useState('');\n  const [password, setPassword] = useState('');\n  const [auth, isAuth] = useState(false);\n  const u = {\n    username: '',\n    password: '',\n    isLoggedin: false,\n    isError: false\n  };\n\n  const login = async (username, password) => {\n    try {\n      const res = await axios.post(`${API_URL}/login`, {\n        username: username,\n        password: password\n      });\n      u.username = res.data.username;\n      setIsError(false);\n      setMessage(res.data.success); // setUser(res.data.username)\n\n      setPassword(res.data.password);\n      isAuth(true);\n    } catch (error) {\n      console.error(error);\n      setIsError(true);\n      isAuth(false);\n      setMessage('user doesnt exist');\n      setUser('');\n    }\n  };\n\n  const logout = async () => {\n    setIsError(false);\n    isAuth(false);\n    setMessage('');\n    setUser('');\n  };\n\n  const isLoggedin = () => {\n    return auth;\n  };\n\n  const getPassword = () => {\n    return password;\n  };\n\n  const getUser = () => {\n    return u.username;\n  };\n\n  return {\n    isLoggedin,\n    login,\n    logout,\n    getUser,\n    getPassword\n  };\n}\n\n_s3(useProvideAuth, \"kVKMeWmj9Lqs0VYsjzb39fBFXJE=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ProvideAuth\");","map":{"version":3,"sources":["/Users/adhe/fabric/client/src/store/use-auth.js"],"names":["React","useState","useEffect","useContext","createContext","axios","API_URL","authContext","ProvideAuth","children","auth","useProvideAuth","useAuth","isError","setIsError","message","setMessage","loggedIn","setLoggedIn","user","setUser","password","setPassword","isAuth","u","username","isLoggedin","login","res","post","data","success","error","console","logout","getPassword","getUser"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport axios from 'axios'\n\nconst API_URL = \"http://localhost:8080/api\"\n\nconst authContext = createContext();\n\nexport function ProvideAuth({ children }) {\n\tconst auth = useProvideAuth();\n\treturn <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\n\nexport const useAuth = () => { \n  return useContext(authContext); \n};\n\n\nfunction useProvideAuth() {\n  const [isError, setIsError]   = useState(false)\n  const [message, setMessage]   = useState(false)\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [user, setUser]         = useState('')\n  const [password, setPassword] = useState('')\n  const [auth, isAuth]          = useState(false)\n\n  const u = {\n    username: '',\n    password: '',\n    isLoggedin: false,\n    isError: false\n  }\n\n  const login = async (username, password) => {\n    try { \n      const res = await axios.post(`${API_URL}/login`, {\n        username: username,\n        password: password\n      })\n\n      u.username = res.data.username\n      setIsError(false)\n      setMessage(res.data.success)\n      // setUser(res.data.username)\n      setPassword(res.data.password)\n      isAuth(true)\n    } catch (error) {\n      console.error(error)\n      setIsError(true)\n      isAuth(false)\n      setMessage('user doesnt exist')\n      setUser('')\n    }\n  };\n\n  const logout = async () => {\n      setIsError(false)\n      isAuth(false)\n      setMessage('')\n      setUser('')\n  };\n\n  const isLoggedin  = () => { return auth }\n  const getPassword = () => { return password }\n  const getUser     = () => { return u.username }\n\n\n  return { \n    isLoggedin,\n    login,\n    logout,\n    getUser,\n    getPassword\n  }\n}\n"]},"metadata":{},"sourceType":"module"}